#MySQL索引背后的数据结构及算法原理
##1.摘要
* MySQL支持多种索引，本文只讨论MySQL中常用的BTree索引。哈希索引和全文索引等不讨论。
* 本文主要介绍：
    * 第一部分主要从数据结构及算法理论层面讨论MySQL数据库索引的数理基础。
    * 第二部分结合MySQL数据库中MyISAM和InnoDB数据存储引擎中索引的架构实现讨论聚集索引、非聚集索引及覆盖索引等话题。
    * 第三部分根据上面的理论基础，讨论MySQL中高性能使用索引的策略。
    
##2.数据结构及算法基础
###2.1索引的本质
* 索引就是为了高效获取数据的数据结构，看一个简单的示例。
 ![看一个简单的示例](http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/1.png)
 
* 左边是数据表，一共有两列七条记录，最左边的是数据记录的物理地址（注意逻辑上相邻的记录在磁盘上也并不是一定物理相邻的）。为了加快Col2的查找，可以维护一个右边所示的二叉查找树，每个节点分别包含索引键值和一个指向对应数据记录物理地址的指针，这样就可以运用二叉查找在O(log2n)的复杂度内获取到相应数据。但是在现实中的系统，没有人这样实现索引，包括不会使用红黑树来做为索引的数据结构。

* 一般会使用B-Tree或者B+Tree来实现索引。MySQL普遍使用B+Tree来实现索引。
* 一般在数据库系统或文件系统中使用的B+Tree结构都在经典B+Tree的基础上进行了优化，增加了顺序访问指针。如图：
![B+Tree示意图](http://blog.codinglabs.org/uploads/pictures/theory-of-mysql-index/4.png)
